<h2 mat-dialog-title>{{ data.mode === 'create' ? ('superAdmin.organizations.createNew' | translate) : ('superAdmin.organizations.editOrganization' | translate) }}</h2>

<form [formGroup]="organizationForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content>
    <div class="form-container">
      <!-- Organization Name -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'superAdmin.organizations.fields.name' | translate }}</mat-label>
        <input matInput formControlName="name" [placeholder]="'superAdmin.organizations.placeholders.organizationName' | translate">
        <mat-error *ngIf="organizationForm.get('name')?.hasError('required')">
          {{ 'superAdmin.organizations.validation.nameRequired' | translate }}
        </mat-error>
        <mat-error *ngIf="organizationForm.get('name')?.hasError('minlength')">
          {{ 'superAdmin.organizations.validation.nameMinLength' | translate }}
        </mat-error>
      </mat-form-field>

      <!-- Organization Type -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'superAdmin.organizations.fields.type' | translate }}</mat-label>
        <mat-select formControlName="type">
          <mat-option value="CLINIC">{{ 'superAdmin.organizations.types.CLINIC' | translate }}</mat-option>
          <mat-option value="HOSPITAL">{{ 'superAdmin.organizations.types.HOSPITAL' | translate }}</mat-option>
          <mat-option value="MEDICAL_CENTER">{{ 'superAdmin.organizations.types.MEDICAL_CENTER' | translate }}</mat-option>
        </mat-select>
        <mat-error *ngIf="organizationForm.get('type')?.hasError('required')">
          {{ 'superAdmin.organizations.validation.typeRequired' | translate }}
        </mat-error>
      </mat-form-field>

      <!-- Address -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'superAdmin.organizations.fields.address' | translate }}</mat-label>
        <textarea matInput formControlName="address" rows="2" [placeholder]="'superAdmin.organizations.placeholders.address' | translate"></textarea>
        <mat-error *ngIf="organizationForm.get('address')?.hasError('required')">
          {{ 'superAdmin.organizations.validation.addressRequired' | translate }}
        </mat-error>
        <mat-error *ngIf="organizationForm.get('address')?.hasError('minlength')">
          {{ 'superAdmin.organizations.validation.addressMinLength' | translate }}
        </mat-error>
      </mat-form-field>

      <!-- Phone and Email Row -->
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>{{ 'superAdmin.organizations.fields.phone' | translate }}</mat-label>
          <input matInput formControlName="phone" [placeholder]="'superAdmin.organizations.placeholders.phone' | translate">
          <mat-icon matPrefix>phone</mat-icon>
          <mat-error *ngIf="organizationForm.get('phone')?.hasError('minlength')">
            {{ 'superAdmin.organizations.validation.phoneMinLength' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>{{ 'superAdmin.organizations.fields.email' | translate }}</mat-label>
          <input matInput formControlName="email" [placeholder]="'superAdmin.organizations.placeholders.email' | translate">
          <mat-icon matPrefix>email</mat-icon>
          <mat-error *ngIf="organizationForm.get('email')?.hasError('email')">
            {{ 'superAdmin.organizations.validation.invalidEmail' | translate }}
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Registration Number -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'superAdmin.organizations.fields.registrationNumber' | translate }}</mat-label>
        <input matInput formControlName="registrationNumber" [placeholder]="'superAdmin.organizations.placeholders.registrationNumber' | translate">
        <mat-icon matPrefix>badge</mat-icon>
      </mat-form-field>

      <!-- Description -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'superAdmin.organizations.fields.description' | translate }}</mat-label>
        <textarea matInput formControlName="description" rows="3" [placeholder]="'superAdmin.organizations.placeholders.description' | translate"></textarea>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button type="button" (click)="onCancel()">{{ 'common.cancel' | translate }}</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="!organizationForm.valid || loading">
      <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
      <span *ngIf="!loading">{{ data.mode === 'create' ? ('common.create' | translate) : ('common.update' | translate) }}</span>
    </button>
  </mat-dialog-actions>
</form>